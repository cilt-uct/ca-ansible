- name: Make jvm directory
  action: command mkdir -p /usr/lib/jvm
  when: ansible_distribution_version == '12.04'

- name: Download JDK (Ubuntu)
  unarchive: src=/home/ca/files/jdk-7u79-linux-x64.tar.gz dest=/usr/lib/jvm/
  when: ansible_distribution_version == '12.04'

- name: "Add system variables to system path"
  action: template src="templates/profile" dest=/etc/profile owner=galicaster  mode=0644
  when: ansible_distribution_version == '12.04'

- name: Set java link
  action: command update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk1.7.0_79/bin/java 1
  when: ansible_distribution_version == '12.04'

- name: Set javaws link
  action: command update-alternatives --install /usr/bin/javaws javaws /usr/lib/jvm/jdk1.7.0_79/bin/javaws 1
  when: ansible_distribution_version == '12.04'

- name: Set Ownership and permission
  file: dest=/usr/lib/jvm/jdk1.7.0_79/ owner=root group=root recurse=yes
  when: ansible_distribution_version == '12.04'

- name: Set java jre to default
  action: command update-alternatives --set java /usr/lib/jvm/jdk1.7.0_79/bin/java
  when: ansible_distribution_version == '12.04'

- name: Remove JDK tarbal
  file: path=/temp/jdk-7u79-linux-x64.tar.gz state=absent
  when: ansible_distribution_version == '12.04'

# 16.04 configuration

- name: "Install latest java for 16.04"
  apt: pkg=default-jdk state=installed force=yes
  when: ansible_distribution_version == '16.04'

