- name: Make jvm directory
  action: command mkdir -p /usr/lib/jvm

- name: Download JDK (Ubuntu)
  unarchive: src=/home/ca/files/jdk-7u79-linux-x64.tar.gz dest=/usr/lib/jvm/

- name: "Add system variables to system path"
  action: template src="templates/profile" dest=/etc/profile owner=galicaster  mode=0644

- name: Set java link
  action: command update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk1.7.0_79/bin/java 1

- name: Set javaws link
  action: command update-alternatives --install /usr/bin/javaws javaws /usr/lib/jvm/jdk1.7.0_79/bin/javaws 1

- name: Set Ownership and permission
  file: dest=/usr/lib/jvm/jdk1.7.0_79/ owner=root group=root recurse=yes

- name: Set java jre to default
  action: command update-alternatives --set java /usr/lib/jvm/jdk1.7.0_79/bin/java

- name: Remove JDK tarbal
  file: path=/temp/jdk-7u79-linux-x64.tar.gz state=absent
